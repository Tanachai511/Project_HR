{% extends "admin/change_list.html" %}

{% block extrahead %}
{{ block.super }}
<style>
:root{
  --sky:#cfe7eb; --card:#eaf6f8; --ink:#0f172a; --muted:#64748b;
  --ok:#16a34a; --bad:#ef4444; --chip:#eef2ff; --chip-ink:#3730a3; --chip-bd:#e0e7ff;
}
.breadcrumbs{ display:none; }

/* ====== Toolbar ====== */
.toolbar{
  display:flex; gap:10px; justify-content:flex-end; margin-bottom:12px;
}
.btn{
  display:inline-flex; align-items:center; gap:8px;
  font-weight:600; font-size:14px;
  padding:8px 14px; border-radius:10px;
  border:1px solid transparent; cursor:pointer; text-decoration:none;
  transition:all .2s ease;
}
.btn-ghost{ background:#fff; border-color:#e5e7eb; color:#111827; }
.btn-ghost:hover{ background:#f9fafb; }
.btn-danger{ background:var(--bad); color:#fff; }
.btn-danger:hover{ filter:brightness(0.95); }

/* ====== Banner ====== */
.banner{
  background:var(--sky);
  border-radius:18px;
  padding:18px 22px;
  margin-bottom:16px;
  box-shadow:0 4px 10px rgba(0,0,0,.05);
}
.banner h1{
  margin:0; font-size:24px; font-weight:800;
  color:#0f172a;
}

/* ====== Summary Cards ====== */
.stats{ display:flex; gap:14px; flex-wrap:wrap; }
.stat{
  flex:1 1 220px;
  background:var(--card);
  border-radius:14px;
  padding:16px 18px;
  display:flex; gap:12px; align-items:center;
  box-shadow:0 3px 8px rgba(0,0,0,.04);
  transition:transform .2s ease;
}
.stat:hover{ transform:translateY(-3px); }
.bubble{
  width:42px; height:42px;
  border-radius:999px;
  display:grid; place-items:center;
  background:#fff; color:#60a5fa;
  font-size:18px;
  box-shadow:inset 0 0 0 1px rgba(0,0,0,.04);
}
.stat .big{ font-size:20px; font-weight:800; color:var(--ink); }
.stat .big .num{ color:#ef4444 !important; }
.stat .sub{ font-size:13px; color:var(--muted); }
.stat .more{ margin-left:auto; font-size:12px; font-weight:700; color:#0ea5e9; text-decoration:none; }

/* ====== Table Container ====== */
.sheet{
  background:#fff;
  border-radius:16px;
  box-shadow:0 6px 18px rgba(0,0,0,.06);
  padding:12px 14px 6px;
  margin-top:14px;
}

/* ====== Chips & Badges ====== */
.chip{
  display:inline-block;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:600;
  white-space:nowrap;
}
.chip-soft{
  background:var(--chip);
  color:var(--chip-ink);
  border:1px solid var(--chip-bd);
}

.status-toggle-btn {
  background:none;
  border:none;
  padding:0;
  cursor:pointer;
}
.status-badge {
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:6px 14px;
  border-radius:999px;
  font-size:13px;
  font-weight:700;
  white-space:nowrap;
  line-height:1;
  box-shadow:0 2px 4px rgba(0,0,0,0.1);
  transition:all 0.2s ease;
}
.badge-ok {
  background:#d1fae5;
  color:#065f46;
  border:1px solid #a7f3d0;
}
.badge-no {
  background:#fff7ed;
  color:#b45309;
  border:1px solid #fde1bf;
}
.status-badge:hover {
  transform:scale(1.05);
  filter:brightness(0.97);
}

</style>
{% endblock %}

{% block content_title %}
  <div class="banner"><h1>{{ page_title|default:"‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏á‡∏≤‡∏ô" }}</h1></div>
{% endblock %}

{% block content %}
  <!-- Toolbar -->
  <div class="toolbar">
    <a class="btn btn-ghost" href="{% url 'admin:myapp_candidate_add' %}">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£</a>
    <form id="clear-all-form" method="post" action="{% url 'admin:myapp_candidate_clear_data' %}">
      {% csrf_token %}
      <button type="button" class="btn btn-danger" onclick="confirmClear('clear-all-form')">
        üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
      </button>
    </form>
  </div>

  <!-- ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏™‡∏£‡∏∏‡∏õ -->
  <div class="stats">
    {% for c in summary_cards %}
      <div class="stat">
        <div class="bubble">üë§</div>
        <div>
          <div class="big"><span class="num">{{ c.total }}</span> ‡∏Ñ‡∏ô</div>
          <div class="sub">{{ c.label }}</div>
        </div>
        <a class="more" href="{{ c.url }}">‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Üí</a>
      </div>
    {% endfor %}
  </div>

  <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á -->
  <div class="sheet">
    {{ block.super }}
  </div>
{% endblock %}
