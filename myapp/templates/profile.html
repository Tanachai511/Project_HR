<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #124C3A;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .container {
      display: flex;
      background: #fff;
      width: 80%;
      max-width: 1200px;
      height: 80vh;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
      overflow: hidden;
    }

    /* Sidebar */
    .sidebar {
      width: 250px;
      background: #fff;
      border-right: 1px solid #eee;
      padding: 20px;
    }

    .sidebar h2 {
      display: flex;
      align-items: center;
      font-size: 20px;
      margin-bottom: 40px;
    }

    .menu {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .menu a {
      display: flex;
      align-items: center;
      padding: 12px 15px;
      border-radius: 6px;
      text-decoration: none;
      font-size: 14px;
      color: #124C3A;
      transition: 0.3s;
    }

    .menu a.active {
      background: #124C3A;
      color: #fff;
    }

    .menu a:hover {
      background: #f0f0f0;
    }

    /* Content */
    .content {
      flex: 1;
      padding: 40px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 6px;
      font-size: 14px;
    }

    input {
      width: 100%;
      padding: 10px;
      font-size: 14px;
      border: 1px solid #ddd;
      border-radius: 5px;
      background: #f5f7ff;
    }

    .btn {
      background: #124C3A;
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
    }

    .btn:hover {
      background: #0e3d2d;
    }

        .user-menu { position: relative; }
    .user-button{
      display:flex; align-items:center; gap:.5rem;
      background: transparent; border:0; cursor:pointer; padding:.35rem .5rem;
      border-radius: 999px;
    }
    .user-button:hover{ background: rgba(0,0,0,.06); }
    .avatar{
      width:28px; height:28px; border-radius:50%;
      display:inline-flex; align-items:center; justify-content:center;
      background: linear-gradient(135deg, #4a7c59, #6b8e5a); color:#fff; font-weight:700;
    }
    .avatar.lg{ width:40px; height:40px; font-size:1rem; }
    .user-name{ font-weight:600; color:#333; }
    .chev{ opacity:.7; }
    .dropdown{
      position:absolute; right:0; top:110%;
      width:280px; background:#fff; border-radius:14px;
      box-shadow: 0 12px 30px rgba(0,0,0,.12);
      overflow:hidden; z-index:9999;
    }
    .hidden{ display:none; }
    .dropdown-header{
      display:flex; gap:.8rem; align-items:center; padding:14px 14px 10px;
      background: linear-gradient(135deg, #f6faf8, #ffffff);
      border-bottom:1px solid #eef2ef;
    }
    .dropdown-header .info .name{ font-weight:700; color:#1b2b21; line-height:1.2; }
    .dropdown-header .info .email{ font-size:.9rem; color:#667; }
    .dropdown-body{ padding:8px; }
    .dropdown-body .item{
      width:100%; display:flex; align-items:center; gap:.6rem;
      padding:10px 10px; border-radius:10px; color:#233; text-decoration:none;
      background:transparent; border:0;
    }
    .dropdown-body .item:hover{ background:#f3f7f5; }
    .logout-btn{
      width:100%; text-align:left; background:transparent; border:0; cursor:pointer;
      color:#b01d1d; font-weight:600;
    }
  </style>
</head>
<header class="header">
  <div class="nav-container">
    <div class="logo">
      <div class="logo-icon">
        <img src="{% static 'logo.jpg' %}" alt="ASCENDER Logo">
      </div>
      ASCENDER
    </div>

    <nav>
      <ul class="nav-menu">
        <li><a href="{% url 'All1' %}">‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå</a></li>
        <li><a href="{% url 'document' %}">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</a></li>
        <li><a href="{% url 'Jangsom' %}">‡πÅ‡∏à‡πâ‡∏á‡∏ã‡πà‡∏≠‡∏°</a></li>

        {% if user.is_authenticated %}
          <li class="user-menu">
            <button id="userMenuBtn" class="user-button" aria-haspopup="true" aria-expanded="false">
              <span class="avatar">{{ user.get_full_name|default:user.username|first|upper }}</span>
              <span class="user-name">{{ user.get_full_name|default:user.username }}</span>
              <svg class="chev" width="14" height="14" viewBox="0 0 20 20" aria-hidden="true">
                <path d="M5 7l5 5 5-5" fill="none" stroke="currentColor" stroke-width="2"/>
              </svg>
            </button>

            <div id="userDropdown" class="dropdown hidden" role="menu">
              <div class="dropdown-header">
                <div class="avatar lg">{{ user.get_full_name|default:user.username|first|upper }}</div>
                <div class="info">
                  <div class="name">{{ user.get_full_name|default:user.username }}</div>
                  <div class="email">{{ user.email }}</div>
                </div>
              </div>
              <div class="dropdown-body">

                <form action="{% url 'logout' %}" method="post" class="item">
                  {% csrf_token %}
                  <input type="hidden" name="next" value="{{ request.path }}">
                  <button type="submit" class="logout-btn">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
                </form>
              </div>
            </div>
          </li>
        {% else %}
          <li><a href="{% url 'login' %}" class="nav-btn">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥</a></li>
        {% endif %}
      </ul>
    </nav>
  </div>
</header>
<body>
  <div class="container">
    <!-- Sidebar -->
    <div class="sidebar">
      <h2>üå± Dashboard</h2>
      <div class="menu">
        <a href="#" class="active">‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</a>
        <a href="#">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</a>
      </div>
    </div>

    <!-- Content -->
    <div class="content">
      <form>
        <div class="form-group">
          <label>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
          <input type="password" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô">
        </div>
        <div class="form-group">
          <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà *</label>
          <input type="password" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà">
        </div>
        <div class="form-group">
          <label>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà *</label>
          <input type="password" placeholder="‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà">
        </div>
        <button type="submit" class="btn">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      </form>
    </div>
  </div>
  <script>
      (function(){
    const btn = document.getElementById('userMenuBtn');
    const dd  = document.getElementById('userDropdown');
    if(!btn || !dd) return;

    btn.addEventListener('click', function(e){
      e.stopPropagation();
      const isHidden = dd.classList.contains('hidden');
      dd.classList.toggle('hidden', !isHidden);
      this.setAttribute('aria-expanded', isHidden ? 'true' : 'false');
    });

    document.addEventListener('click', function(){
      if(!dd.classList.contains('hidden')){
        dd.classList.add('hidden');
        btn.setAttribute('aria-expanded', 'false');
      }
    });

    document.addEventListener('keydown', function(e){
      if(e.key === 'Escape' && !dd.classList.contains('hidden')){
        dd.classList.add('hidden');
        btn.setAttribute('aria-expanded', 'false');
      }
    });
  })();
  </script>
</body>
</html>
